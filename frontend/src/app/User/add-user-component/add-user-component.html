<form #userForm="ngForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data" class="player-form">
  <h2>User Registration</h2>

  <div class="form-wrapper">
    <div class="details">

      <label>User Type</label>
      <select name="userType" [(ngModel)]="user.userType" required>
        <option value="" disabled>Select User Type</option>
        <option value="User">User</option>
        <option value="Player">Player</option>
        <option value="Staff">Staff</option>
        <option value="Admin">Admin</option>
      </select>

      <div *ngIf="isClubMember(user.userType)">
        <label>Club</label>
        <select name="clubId" [(ngModel)]="user.clubId" required>
          <option value="" disabled>Select Club</option>
          <option *ngFor="let club of clubs" [value]="club.id">{{ club.name }}</option>
        </select>
      </div>

      <label>First Name</label>
      <input type="text" name="firstName" [(ngModel)]="user.firstName" required />

      <label>Last Name</label>
      <input type="text" name="lastName" [(ngModel)]="user.lastName" required />

      <label>Email</label>
      <input type="email" name="email" [(ngModel)]="user.email" required />

      <label>Phone Number</label>
      <input type="tel" name="phoneNumber" [(ngModel)]="user.phoneNumber" />

      <label>Address</label>
      <input type="text" name="address" [(ngModel)]="user.address" />

      <label>Nationality</label>
      <select name="nationality" [(ngModel)]="user.nationality" required>
        <option value="" disabled>Select Nationality</option>
        <option *ngFor="let c of countries" [value]="c.code">{{ c.name }}</option>
      </select>

      <label>Country</label>
      <select name="country" [(ngModel)]="user.country" required>
        <option value="" disabled>Select Country</option>
        <option *ngFor="let c of countries" [value]="c.code">{{ c.name }}</option>
      </select>

      <label>Gender</label>
      <select name="gender" [(ngModel)]="user.gender" required>
        <option value="" disabled>Select Gender</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
      </select>

      <label>Date of Birth</label>
      <input type="date" name="dateOfBirth" [(ngModel)]="user.dateOfBirth" required />
    </div>

    <div class="photo">
      <label>Profile Photo</label>
      <input type="file" accept="image/*" (change)="onPhotoSelected($event)" />
      <div class="photo-preview" *ngIf="previewUrl">
        <img [src]="previewUrl" alt="Profile Photo Preview" />
      </div>
    </div>
  </div>

  <div class="actions">
    <button type="submit" [disabled]="!userForm.form.valid">Submit</button>
  </div>
</form>
