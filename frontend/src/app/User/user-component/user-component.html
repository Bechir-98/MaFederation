<div class="header">
  <div class="image-container">
    <img
      [src]="'data:image/png;base64,' + user.profilePicture"
      [alt]="user.firstName + ' ' + user.lastName"
      class="image"
    />
  </div>

  <div class="player-info-header">
    <div class="info-block">
      <div class="name">
        <h1>{{ user.firstName }} {{ user.lastName }}</h1>
        <span class="status-badge" [title]="user.type">{{ user.type }}</span>
        <button class="edit-button" (click)="editUser()">Edit</button>
        <button class="delete-button" (click)="deleteUser()">Delete</button>
      </div>
      <div class="status">Role: {{ user.type }}</div>
    </div>
    <div class="club">
      <button class="button">More Details</button>
    </div>
  </div>
</div>

<div class="main">
  <div class="basic-info">
    <div class="infos">
      <h2>Email</h2><h3>{{ user.email }}</h3>
      <h2>Phone</h2><h3>{{ user.phoneNumber }}</h3>
      <h2>Gender</h2><h3>{{ user.gender }}</h3>
      <h2>Date of Birth</h2><h3>{{ user.dateOfBirth }}</h3>
      <h2>Nationality</h2><h3>{{ user.nationality }}</h3>
      <h2>Address</h2><h3>{{ user.address }}</h3>
      <h2>National ID</h2><h3>{{ user.nationalID }}</h3>
    </div>
  </div>

  <!-- Audit Section -->
  <div class="audit-info">
    <h2>Audit Info</h2>
    <p><strong>Created At:</strong> {{ user.createdAt }}</p>
    <p><strong>Created By:</strong> {{ user.createdBy }}</p>
    <p><strong>Updated At:</strong> {{ user.updatedAt }}</p>
    <p><strong>Updated By:</strong> {{ user.updatedBy }}</p>
  </div>

  <!-- Buttons -->
  <div class="sport-info">
    <div class="buttons">
      <button class="button">View Access</button>
      <button class="button">Federation Info</button>
      <button class="button" (click)="toggleCredentialViewer()">View Credentials</button>
    </div>
  </div>

  <!-- Credentials Modal -->
  <div *ngIf="credentialsViewer" class="modal-backdrop" (click)="onBackdropClick($event)">
    <div class="modal-content" (click)="$event.stopPropagation()" tabindex="0">
      <button class="close-button" (click)="toggleCredentialViewer()">âœ•</button>
      <h2>ðŸ“‚ User Credentials</h2>
      <app-user-files-component [UserId]="user.id!"></app-user-files-component>
    </div>
  </div>
</div>
