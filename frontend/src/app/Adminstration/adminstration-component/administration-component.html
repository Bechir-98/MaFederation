<div *ngIf="loading" class="loading">Loading administrator data...</div>
<div *ngIf="error" class="error">{{ error }}</div>

<div *ngIf="!loading && !error" class="admin-container">
  <div class="admin-header">
    <img 
      *ngIf="admin.profilePicture; else noImage"
      [src]="'data:image/png;base64,' + admin.profilePicture" 
      alt="Profile Picture" 
      class="admin-image" 
    />
    <ng-template #noImage>
      <div class="no-image">No Image Available</div>
    </ng-template>
    <div class="admin-info">
      <div class="admin-name">
        <h2>{{ admin.firstName || 'First Name' }} {{ admin.lastName || 'Last Name' }}</h2>
        <p>Role: {{ admin.role || 'N/A' }}</p>
      </div>
      <div class="action-buttons">
        <button class="edit-btn" title="Edit Administrator">
          <!-- SVG icon here -->
          Edit
        </button>
        <button class="delete-btn" title="Delete Administrator">
          <!-- SVG icon here -->
          Delete
        </button>
      </div>
    </div>
  </div>

  <div class="button-group">
    <button (click)="showSection('basic')" [class.active]="activeSection === 'basic'">Basic Info</button>
    <button (click)="showSection('credentials')" [class.active]="activeSection === 'credentials'">View Credentials</button>
    <button (click)="showSection('details')" [class.active]="activeSection === 'details'">Audit Details</button>
  </div>

  <div class="section" *ngIf="activeSection === 'basic'">
    <h3>Basic Information</h3>
    <p><strong>Date of Birth:</strong> {{ admin.dateOfBirth ? (admin.dateOfBirth | date:'longDate') : 'N/A' }}</p>
    <p><strong>Nationality:</strong> {{ admin.nationality || 'N/A' }}</p>
    <p><strong>Gender:</strong> {{ admin.gender || 'N/A' }}</p>
    <p><strong>Phone:</strong> {{ admin.phoneNumber || 'N/A' }}</p>
    <p><strong>Email:</strong> {{ admin.email || 'N/A' }}</p>
    <p><strong>Address:</strong> {{ admin.address || 'N/A' }}</p>
  </div>

  <div class="section" *ngIf="activeSection === 'credentials'">
    <h3>Credentials</h3>
    <app-user-files-component [UserId]="admin!.id"></app-user-files-component>
  </div>

  <div class="section" *ngIf="activeSection === 'details'">
    <h3>Audit Details</h3>
    <p><strong>Created By:</strong> {{ admin.createdBy || 'N/A' }}</p>
    <p><strong>Created At:</strong> {{ admin.createdAt ? (admin.createdAt | date:'medium') : 'N/A' }}</p>
    <p><strong>Updated By:</strong> {{ admin.updatedBy || 'N/A' }}</p>
    <p><strong>Updated At:</strong> {{ admin.updatedAt ? (admin.updatedAt | date:'medium') : 'N/A' }}</p>
  </div>
</div>
