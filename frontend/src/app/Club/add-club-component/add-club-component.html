<form #clubForm="ngForm" (ngSubmit)="onSubmit()" class="player-form" novalidate>
  <h2>Enregistrement d’un Club</h2>

  <div class="form-wrapper">
    <!-- Left side: Club info -->
    <div class="details">
      <h3>Informations générales</h3>

      <div class="form-group">
        <label for="name">Nom du Club</label>
        <input
          type="text"
          id="name"
          name="name"
          [(ngModel)]="club.name"
          required
          #name="ngModel"
        />
        <div *ngIf="name.invalid && name.touched" class="error">
          Ce champ est obligatoire.
        </div>
      </div>

      <div class="form-group">
        <label for="location">Localisation</label>
        <input
          type="text"
          id="location"
          name="location"
          [(ngModel)]="club.location"
          required
          #location="ngModel"
        />
        <div *ngIf="location.invalid && location.touched" class="error">
          Ce champ est obligatoire.
        </div>
      </div>

      <div class="form-group">
        <label for="foundedYear">Année de fondation</label>
        <input
          type="number"
          id="foundedYear"
          name="foundedYear"
          [(ngModel)]="club.foundedYear"
          min="1800"
          max="2099"
          required
          #foundedYear="ngModel"
        />
        <div *ngIf="foundedYear.invalid && foundedYear.touched" class="error">
          Année invalide.
        </div>
      </div>

      <div class="form-group">
        <label for="contactEmail">Email</label>
        <input
          type="email"
          id="contactEmail"
          name="contactEmail"
          [(ngModel)]="club.contactEmail"
          required
          #contactEmail="ngModel"
        />
        <div *ngIf="contactEmail.invalid && contactEmail.touched" class="error">
          Email invalide.
        </div>
      </div>

      <div class="form-group">
        <label for="contactPhone">Téléphone</label>
        <input
          type="tel"
          id="contactPhone"
          name="contactPhone"
          [(ngModel)]="club.contactPhone"
          required
          #contactPhone="ngModel"
        />
        <div *ngIf="contactPhone.invalid && contactPhone.touched" class="error">
          Ce champ est obligatoire.
        </div>
      </div>

      <div class="form-group">
        <label for="bankAccount">Compte Bancaire</label>
        <input
          type="text"
          id="bankAccount"
          name="bankAccount"
          [(ngModel)]="club.bankAccount"
          required
          #bankAccount="ngModel"
        />
        <div *ngIf="bankAccount.invalid && bankAccount.touched" class="error">
          Ce champ est obligatoire.
        </div>
      </div>

      <div class="form-group">
        <label for="bankName">Banque</label>
        <input
          type="text"
          id="bankName"
          name="bankName"
          [(ngModel)]="club.bankName"
          required
          #bankName="ngModel"
        />
        <div *ngIf="bankName.invalid && bankName.touched" class="error">
          Ce champ est obligatoire.
        </div>
      </div>

      <div class="form-group">
        <label>Catégories disponibles</label>
        <div class="checkbox-group">
          <label *ngFor="let c of categories" class="checkbox-item">
            <input
              type="checkbox"
              [checked]="club.categoryIds.includes(c.categoryId!)"
              (change)="onCategoryChange(c, $event)"
            />
            {{ c.name }} ({{ c.ageMin }} - {{ c.ageMax }} ans)
          </label>
        </div>
      </div>
    </div>

    <!-- Right side: Logo upload and preview -->
    <div class="logo-upload-container">
      <h3>Logo du Club</h3>
      <input
        type="file"
        accept="image/*"
        (change)="onLogoSelected($event)"
        required
      />
      <div *ngIf="logoInvalid" class="error">
        Veuillez sélectionner un logo valide.
      </div>

      <div class="logo-preview" *ngIf="logoPreview">
        <p>Aperçu du logo :</p>
        <img [src]="logoPreview" alt="Logo Preview" />
      </div>
    </div>
  </div>

  <!-- Form actions -->
  <div class="actions">
    <button type="submit" [disabled]="clubForm.invalid || logoInvalid">
      Soumettre
    </button>
  </div>
</form>
