<div *ngIf="!mod" class="loading">Loading moderator data...</div>

<div *ngIf="mod" class="player-container">
  <!-- Completion / Banner could be added here if needed -->

  <!-- Header -->
  <div class="player-header">
    <img
      *ngIf="mod.profilePicture; else noImage"
      [src]="'data:image/png;base64,' + mod.profilePicture"
      [alt]="mod.firstName + ' ' + mod.lastName"
      class="player-image"
    />
    <ng-template #noImage>
      <div class="no-image">No Image</div>
    </ng-template>

    <div class="player-info">
      <div class="player-name">
        <h2>{{ mod.firstName }} {{ mod.lastName }}</h2>
        <span class="status-badge valid">getRolesString(mod)</span>
      </div>

      <div class="action-buttons">
        <button class="edit-btn" (click)="editMod()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
            <path d="m18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
          </svg>
          Edit
        </button>
        <button class="delete-btn" (click)="deleteMod()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="3,6 5,6 21,6"/>
            <path d="m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"/>
            <line x1="10" y1="11" x2="10" y2="17"/>
            <line x1="14" y1="11" x2="14" y2="17"/>
          </svg>
          Delete
        </button>
      </div>
    </div>
  </div>

  <!-- Section buttons -->
  <div class="button-group">
    <button (click)="showSection('basic')" [class.active]="activeSection==='basic'">Basic Info</button>
    <button (click)="showSection('audit')" [class.active]="activeSection==='audit'">Audit Info</button>
    <button (click)="showSection('credentials')" [class.active]="activeSection==='credentials'">View Credentials</button>
  </div>

  <!-- Sections -->
  <div class="section" *ngIf="activeSection==='basic'">
    <h3>Basic Information</h3>
    <p><strong>Email:</strong> {{ mod.email || 'N/A' }}</p>
    <p><strong>Phone:</strong> {{ mod.phoneNumber || 'N/A' }}</p>
    <p><strong>Gender:</strong> {{ mod.gender || 'N/A' }}</p>
    <p><strong>Date of Birth:</strong> {{ mod.dateOfBirth || 'N/A' }}</p>
    <p><strong>Nationality:</strong> {{ mod.nationality || 'N/A' }}</p>
    <p><strong>Address:</strong> {{ mod.address || 'N/A' }}</p>
    <p><strong>National ID:</strong> {{ mod.nationalID || 'N/A' }}</p>
  </div>

  <div class="section" *ngIf="activeSection==='audit'">
    <h3>Audit Info</h3>
    <p><strong>Created At:</strong> {{ mod.createdAt || 'N/A' }}</p>
    <p><strong>Created By:</strong> {{ mod.createdBy || 'N/A' }}</p>
    <p><strong>Updated At:</strong> {{ mod.updatedAt || 'N/A' }}</p>
    <p><strong>Updated By:</strong> {{ mod.updatedBy || 'N/A' }}</p>
  </div>

  <div class="section" *ngIf="activeSection==='credentials'">
    <h3>Moderator Credentials</h3>
<!--    <app-user-files-component [UserId]="mod.id"></app-user-files-component>-->
  </div>
</div>
