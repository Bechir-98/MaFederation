<div class="form-container">
  <h2>Add Club Member</h2>

  <form *ngIf="!step" #stepOneForm="ngForm" (ngSubmit)="submitForm()" class="form-step">
    <div class="form-group">
      <label>Email</label>
      <input type="email" name="email" [(ngModel)]="member.email" required />
    </div>

    <div class="form-group">
      <label>First Name</label>
      <input type="text" name="firstName" [(ngModel)]="member.firstName" required />
    </div>

    <div class="form-group">
      <label>Last Name</label>
      <input type="text" name="lastName" [(ngModel)]="member.lastName" required />
    </div>

    <div class="form-group">
      <label>Date of Birth</label>
      <input type="date" name="dateOfBirth" [(ngModel)]="member.dateOfBirth" />
    </div>

    <div class="form-group">
      <label>Gender</label>
      <select name="gender" [(ngModel)]="member.gender">
        <option value="">Select</option>
        <option value="MALE">Male</option>
        <option value="FEMALE">Female</option>
      </select>
    </div>

    <div class="form-group">
      <label>Phone Number</label>
      <input type="text" name="phoneNumber" [(ngModel)]="member.phoneNumber" />
    </div>

    <div class="form-group">
      <label>Address</label>
      <input type="text" name="address" [(ngModel)]="member.address" />
    </div>

    <div class="form-group">
      <label>National ID</label>
      <input type="text" name="nationalID" [(ngModel)]="member.nationalID" />
    </div>

    <div class="form-group">
      <label>Nationality</label>
      <select name="nationality" [(ngModel)]="member.nationality">
        <option *ngFor="let country of countries" [value]="country.code">{{ country.name }}</option>
      </select>
    </div>

    <div class="form-group">
      <label>Club</label>
      <select name="clubId" [(ngModel)]="member.clubId">
        <option *ngFor="let club of clubs" [value]="club.clubId">{{ club.name }}</option>
      </select>
    </div>

    <div class="form-group">
      <label>User Type</label>
      <select name="type" [(ngModel)]="member.type" required>
        <option value="">Select user type</option>
        <option value="PLAYER">Player</option>
        <option value="STAFF">Staff</option>
        <option value="ADMIN">Admin</option>
      </select>
    </div>

    <div class="form-group" *ngIf="member.type === 'STAFF'">
  <label>Categories</label>
  <div *ngFor="let category of categories">
    <label>
      <input
        type="checkbox"
        [value]="category.categoryId"
        (change)="onCategoryChange($event)"
        [checked]="member.categoryIds.includes(category.categoryId)"
      />
      {{ category.name }}
    </label>
  </div>
</div>


    <div class="form-group">
      <label>Password</label>
      <input type="password" name="passwordHash" [(ngModel)]="member.passwordHash" required />
    </div>

    <div class="form-actions">
      <button type="submit">Submit</button>
    </div>
  </form>
</div>
